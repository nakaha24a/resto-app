{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\arsuser\\\\Documents\\\\24A18\\\\\\u5352\\u696D\\u7814\\u7A76\\\\main\\\\resto-app\\\\src\\\\components\\\\OptionModal.tsx\",\n  _s = $RefreshSig$();\n// src/components/OptionModal.tsx\n\nimport React, { useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst OptionModal = ({\n  menuItem,\n  onClose,\n  onAddToCart\n}) => {\n  _s();\n  const [selectedOptions, setSelectedOptions] = useState([]);\n  const handleToggleOption = option => {\n    setSelectedOptions(prev => prev.some(o => o.name === option.name) ? prev.filter(o => o.name !== option.name) : [...prev, option]);\n  };\n  const handleSubmit = () => {\n    onAddToCart(selectedOptions);\n  };\n  if (!menuItem.options) return null;\n  const totalOptionPrice = selectedOptions.reduce((sum, opt) => sum + opt.price, 0);\n  const totalPrice = menuItem.price + totalOptionPrice;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"modal-overlay\",\n    onClick: onClose,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-content\",\n      onClick: e => e.stopPropagation(),\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: menuItem.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: menuItem.options.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"options-list\",\n        children: menuItem.options.items.map(option => /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            checked: selectedOptions.some(o => o.name === option.name),\n            onChange: () => handleToggleOption(option)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 15\n          }, this), option.name, \" (+\\xA5\", option.price, \")\"]\n        }, option.name, true, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-footer\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-total-price\",\n          children: [\"\\u5408\\u8A08: \\xA5\", totalPrice.toLocaleString()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-controls\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onClose,\n            className: \"secondary-btn\",\n            children: \"\\u30AD\\u30E3\\u30F3\\u30BB\\u30EB\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleSubmit,\n            className: \"primary-btn\",\n            children: \"\\u30AB\\u30FC\\u30C8\\u306B\\u8FFD\\u52A0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n};\n_s(OptionModal, \"S24nRharoliKpDmkOrz7zqRL0rI=\");\n_c = OptionModal;\nexport default OptionModal;\nvar _c;\n$RefreshReg$(_c, \"OptionModal\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","OptionModal","menuItem","onClose","onAddToCart","_s","selectedOptions","setSelectedOptions","handleToggleOption","option","prev","some","o","name","filter","handleSubmit","options","totalOptionPrice","reduce","sum","opt","price","totalPrice","className","onClick","children","e","stopPropagation","fileName","_jsxFileName","lineNumber","columnNumber","title","items","map","type","checked","onChange","toLocaleString","_c","$RefreshReg$"],"sources":["C:/Users/arsuser/Documents/24A18/卒業研究/main/resto-app/src/components/OptionModal.tsx"],"sourcesContent":["// src/components/OptionModal.tsx\r\n\r\nimport React, { useState } from \"react\";\r\nimport { MenuItem, Option } from \"../types\";\r\n\r\ninterface OptionModalProps {\r\n  menuItem: MenuItem;\r\n  onClose: () => void;\r\n  onAddToCart: (options: Option[]) => void;\r\n}\r\n\r\nconst OptionModal: React.FC<OptionModalProps> = ({\r\n  menuItem,\r\n  onClose,\r\n  onAddToCart,\r\n}) => {\r\n  const [selectedOptions, setSelectedOptions] = useState<Option[]>([]);\r\n\r\n  const handleToggleOption = (option: Option) => {\r\n    setSelectedOptions((prev) =>\r\n      prev.some((o) => o.name === option.name)\r\n        ? prev.filter((o) => o.name !== option.name)\r\n        : [...prev, option]\r\n    );\r\n  };\r\n\r\n  const handleSubmit = () => {\r\n    onAddToCart(selectedOptions);\r\n  };\r\n\r\n  if (!menuItem.options) return null;\r\n\r\n  const totalOptionPrice = selectedOptions.reduce(\r\n    (sum, opt) => sum + opt.price,\r\n    0\r\n  );\r\n  const totalPrice = menuItem.price + totalOptionPrice;\r\n\r\n  return (\r\n    <div className=\"modal-overlay\" onClick={onClose}>\r\n      <div className=\"modal-content\" onClick={(e) => e.stopPropagation()}>\r\n        <h2>{menuItem.name}</h2>\r\n        <h3>{menuItem.options.title}</h3>\r\n        <div className=\"options-list\">\r\n          {menuItem.options.items.map((option) => (\r\n            <label key={option.name}>\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={selectedOptions.some((o) => o.name === option.name)}\r\n                onChange={() => handleToggleOption(option)}\r\n              />\r\n              {option.name} (+¥{option.price})\r\n            </label>\r\n          ))}\r\n        </div>\r\n        <div className=\"modal-footer\">\r\n          <div className=\"modal-total-price\">\r\n            合計: ¥{totalPrice.toLocaleString()}\r\n          </div>\r\n          <div className=\"modal-controls\">\r\n            <button onClick={onClose} className=\"secondary-btn\">\r\n              キャンセル\r\n            </button>\r\n            <button onClick={handleSubmit} className=\"primary-btn\">\r\n              カートに追加\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OptionModal;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}