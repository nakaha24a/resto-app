{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\arsuser\\\\Documents\\\\24A18\\\\\\u5352\\u696D\\u7814\\u7A76\\\\main\\\\resto-app\\\\src\\\\components\\\\OrderScreen.tsx\",\n  _s = $RefreshSig$();\n// src/components/OrderScreen.tsx (エラー修正・完成版)\n\nimport React, { useMemo, useState, useEffect } from \"react\";\nimport useCartStore from \"../store/cartStore\";\n// ★ CartItem をインポートします\n\n// 分割したコンポーネントをインポート\nimport OrderHistoryPane from \"./OrderHistoryPane\";\nimport OrderHeader from \"./OrderHeader\";\nimport CategoryNav from \"./CategoryNav\";\nimport MenuContent from \"./MenuContent\";\nimport CartSidebar from \"./CartSidebar\";\nimport OptionModal from \"./OptionModal\";\nimport BottomNav from \"./BottomNav\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst getCategories = menuItems => {\n  const categories = new Set(menuItems.map(item => item.category)); // ★ 型指定\n  const hasRecommended = menuItems.some(item => item.isRecommended); // ★ 型指定\n  return [\"TOP\", ...(hasRecommended ? [\"おすすめ\"] : []), ...Array.from(categories)];\n};\nconst OrderScreen = ({\n  userId,\n  activeTab,\n  onNavigate,\n  onGoToPayment,\n  setShowOrderComplete\n}) => {\n  _s();\n  const {\n    cart,\n    pendingOrders,\n    cartTotalAmount,\n    pendingOrderTotalAmount,\n    menuItems,\n    updateCart,\n    placeOrder,\n    fetchMenuItems\n  } = useCartStore();\n  const CATEGORIES = useMemo(() => getCategories(menuItems), [menuItems]);\n  const [selectedCategory, setSelectedCategory] = useState(CATEGORIES.length > 0 ? CATEGORIES[0] : \"TOP\");\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [modalState, setModalState] = useState({\n    isOpen: false,\n    menuItem: null\n  });\n\n  // ★ テスト用の console.log は削除\n  useEffect(() => {\n    fetchMenuItems();\n  }, [fetchMenuItems]);\n  const handleItemSelect = item => {\n    if (item.options) {\n      setModalState({\n        isOpen: true,\n        menuItem: item\n      });\n    } else {\n      const existingItem = cart.find(\n      // ★ 型指定 (c: CartItem)\n      c => c.menuItemId === item.id && (!c.selectedOptions || c.selectedOptions.length === 0));\n      const currentQuantity = existingItem ? existingItem.quantity : 0;\n      updateCart(item.id, currentQuantity + 1, []);\n    }\n  };\n  const handleAddToCartFromModal = options => {\n    if (modalState.menuItem) {\n      const optionsId = options.map(opt => opt.name) // ★ 型指定\n      .sort().join(\"-\");\n      const cartItemId = `${modalState.menuItem.id}-${optionsId}`;\n      // ★ 型指定 (c: CartItem)\n      const existingItem = cart.find(c => c.id === cartItemId);\n      const currentQuantity = existingItem ? existingItem.quantity : 0;\n      updateCart(modalState.menuItem.id, currentQuantity + 1, options);\n      setModalState({\n        isOpen: false,\n        menuItem: null\n      });\n    }\n  };\n\n  // ★ async/await に修正\n  const handlePlaceOrder = async () => {\n    const newOrder = await placeOrder(userId);\n    if (newOrder) {\n      setShowOrderComplete(true);\n      setTimeout(() => setShowOrderComplete(false), 2500);\n    }\n  };\n  const filteredMenuItems = useMemo(() => {\n    let items = menuItems;\n    if (selectedCategory === \"おすすめ\") {\n      // ★ 型指定 (item: MenuItem)\n      items = items.filter(item => item.isRecommended);\n    } else if (selectedCategory !== \"TOP\") {\n      // ★ 型指定 (item: MenuItem)\n      items = items.filter(item => item.category === selectedCategory);\n    }\n    if (searchQuery) {\n      // ★ 型指定 (item: MenuItem)\n      items = items.filter(item => item.name.toLowerCase().includes(searchQuery.toLowerCase()));\n    }\n    return items;\n  }, [menuItems, selectedCategory, searchQuery]);\n  const renderMainContent = () => {\n    if (activeTab === \"ORDER\" || activeTab === \"TOP\") {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [\"\\xA0 \\xA0 \\xA0 \\xA0 \\xA0\", \" \", /*#__PURE__*/_jsxDEV(CategoryNav, {\n          categories: CATEGORIES,\n          selectedCategory: selectedCategory,\n          onSelectCategory: setSelectedCategory\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this), \"\\xA0 \\xA0 \\xA0 \\xA0 \\xA0\", \" \", /*#__PURE__*/_jsxDEV(MenuContent, {\n          menuItems: filteredMenuItems,\n          cart: cart,\n          onUpdateCart: updateCart,\n          onItemSelect: handleItemSelect\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }, this), \"\\xA0 \\xA0 \\xA0 \\xA0 \\xA0\", \" \", /*#__PURE__*/_jsxDEV(CartSidebar, {\n          cart: cart,\n          totalAmount: cartTotalAmount,\n          onUpdateCart: updateCart,\n          onPlaceOrder: handlePlaceOrder,\n          onGoToPayment: onGoToPayment,\n          pendingOrderTotalAmount: pendingOrderTotalAmount\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 11\n        }, this), \"\\xA0 \\xA0 \\xA0 \\xA0\", \" \"]\n      }, void 0, true);\n    } else if (activeTab === \"HISTORY\") {\n      return /*#__PURE__*/_jsxDEV(OrderHistoryPane, {\n        pendingOrders: pendingOrders,\n        orderHistoryTotalAmount: pendingOrderTotalAmount,\n        onGoToPaymentView: onGoToPayment,\n        onCallStaff: () => alert(\"スタッフを呼び出しました。\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }, this);\n    }\n    return null;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"order-screen-layout\",\n    children: [\"\\xA0 \\xA0 \\xA0\", \" \", /*#__PURE__*/_jsxDEV(OrderHeader, {\n      userId: userId,\n      searchQuery: searchQuery,\n      onSearchChange: setSearchQuery,\n      onCallStaff: () => alert(\"スタッフを呼び出しました。\")\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 7\n    }, this), \"\\xA0 \\xA0 \\xA0\", \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `order-main-area ${activeTab === \"HISTORY\" ? \"history-layout\" : \"\"}`,\n      children: [\"\\xA0 \\xA0 \\xA0 \\xA0 \", renderMainContent(), \"\\xA0 \\xA0 \\xA0\", \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 7\n    }, this), \"\\xA0 \\xA0 \\xA0\", \" \", /*#__PURE__*/_jsxDEV(BottomNav, {\n      activeTab: activeTab,\n      onNavigate: onNavigate\n      // ★ 型指定 (sum: number, item: CartItem)\n      ,\n      cartItemCount: cart.reduce((sum, item) => sum + item.quantity, 0)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 7\n    }, this), \"\\xA0 \\xA0 \\xA0\", \" \", modalState.isOpen && modalState.menuItem && /*#__PURE__*/_jsxDEV(OptionModal, {\n      menuItem: modalState.menuItem,\n      onClose: () => setModalState({\n        isOpen: false,\n        menuItem: null\n      }),\n      onAddToCart: handleAddToCartFromModal\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 9\n    }, this), \"\\xA0 \\xA0\", \" \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 178,\n    columnNumber: 5\n  }, this);\n};\n_s(OrderScreen, \"adrpp/e2fypYwV8s7googM2RwEo=\", false, function () {\n  return [useCartStore];\n});\n_c = OrderScreen;\nexport default OrderScreen;\nvar _c;\n$RefreshReg$(_c, \"OrderScreen\");","map":{"version":3,"names":["React","useMemo","useState","useEffect","useCartStore","OrderHistoryPane","OrderHeader","CategoryNav","MenuContent","CartSidebar","OptionModal","BottomNav","jsxDEV","_jsxDEV","Fragment","_Fragment","getCategories","menuItems","categories","Set","map","item","category","hasRecommended","some","isRecommended","Array","from","OrderScreen","userId","activeTab","onNavigate","onGoToPayment","setShowOrderComplete","_s","cart","pendingOrders","cartTotalAmount","pendingOrderTotalAmount","updateCart","placeOrder","fetchMenuItems","CATEGORIES","selectedCategory","setSelectedCategory","length","searchQuery","setSearchQuery","modalState","setModalState","isOpen","menuItem","handleItemSelect","options","existingItem","find","c","menuItemId","id","selectedOptions","currentQuantity","quantity","handleAddToCartFromModal","optionsId","opt","name","sort","join","cartItemId","handlePlaceOrder","newOrder","setTimeout","filteredMenuItems","items","filter","toLowerCase","includes","renderMainContent","children","onSelectCategory","fileName","_jsxFileName","lineNumber","columnNumber","onUpdateCart","onItemSelect","totalAmount","onPlaceOrder","orderHistoryTotalAmount","onGoToPaymentView","onCallStaff","alert","className","onSearchChange","cartItemCount","reduce","sum","onClose","onAddToCart","_c","$RefreshReg$"],"sources":["C:/Users/arsuser/Documents/24A18/卒業研究/main/resto-app/src/components/OrderScreen.tsx"],"sourcesContent":["// src/components/OrderScreen.tsx (エラー修正・完成版)\r\n\r\nimport React, { useMemo, useState, useEffect } from \"react\";\r\nimport useCartStore from \"../store/cartStore\";\r\n// ★ CartItem をインポートします\r\nimport { MenuItem, Option, CartItem } from \"../types\";\r\n\r\n// 分割したコンポーネントをインポート\r\nimport OrderHistoryPane from \"./OrderHistoryPane\";\r\nimport OrderHeader from \"./OrderHeader\";\r\nimport CategoryNav from \"./CategoryNav\";\r\nimport MenuContent from \"./MenuContent\";\r\nimport CartSidebar from \"./CartSidebar\";\r\nimport OptionModal from \"./OptionModal\";\r\nimport BottomNav from \"./BottomNav\";\r\n\r\nexport type NavTab = \"TOP\" | \"ORDER\" | \"HISTORY\";\r\n\r\ninterface OrderScreenProps {\r\n  userId: string;\r\n  activeTab: NavTab;\r\n  onNavigate: (tab: NavTab) => void;\r\n  onGoToPayment: () => void;\r\n  setShowOrderComplete: (show: boolean) => void;\r\n}\r\n\r\ninterface ModalState {\r\n  isOpen: boolean;\r\n  menuItem: MenuItem | null;\r\n}\r\n\r\nconst getCategories = (menuItems: MenuItem[]): string[] => {\r\n  const categories = new Set(menuItems.map((item: MenuItem) => item.category)); // ★ 型指定\r\n  const hasRecommended = menuItems.some((item: MenuItem) => item.isRecommended); // ★ 型指定\r\n  return [\r\n    \"TOP\",\r\n    ...(hasRecommended ? [\"おすすめ\"] : []),\r\n    ...Array.from(categories),\r\n  ];\r\n};\r\n\r\nconst OrderScreen: React.FC<OrderScreenProps> = ({\r\n  userId,\r\n  activeTab,\r\n  onNavigate,\r\n  onGoToPayment,\r\n  setShowOrderComplete,\r\n}) => {\r\n  const {\r\n    cart,\r\n    pendingOrders,\r\n    cartTotalAmount,\r\n    pendingOrderTotalAmount,\r\n    menuItems,\r\n    updateCart,\r\n    placeOrder,\r\n    fetchMenuItems,\r\n  } = useCartStore();\r\n\r\n  const CATEGORIES = useMemo(() => getCategories(menuItems), [menuItems]);\r\n  const [selectedCategory, setSelectedCategory] = useState<string>(\r\n    CATEGORIES.length > 0 ? CATEGORIES[0] : \"TOP\"\r\n  );\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [modalState, setModalState] = useState<ModalState>({\r\n    isOpen: false,\r\n    menuItem: null,\r\n  });\r\n\r\n  // ★ テスト用の console.log は削除\r\n  useEffect(() => {\r\n    fetchMenuItems();\r\n  }, [fetchMenuItems]);\r\n\r\n  const handleItemSelect = (item: MenuItem) => {\r\n    if (item.options) {\r\n      setModalState({ isOpen: true, menuItem: item });\r\n    } else {\r\n      const existingItem = cart.find(\r\n        // ★ 型指定 (c: CartItem)\r\n        (c: CartItem) =>\r\n          c.menuItemId === item.id &&\r\n          (!c.selectedOptions || c.selectedOptions.length === 0)\r\n      );\r\n      const currentQuantity = existingItem ? existingItem.quantity : 0;\r\n      updateCart(item.id, currentQuantity + 1, []);\r\n    }\r\n  };\r\n\r\n  const handleAddToCartFromModal = (options: Option[]) => {\r\n    if (modalState.menuItem) {\r\n      const optionsId = options\r\n        .map((opt: Option) => opt.name) // ★ 型指定\r\n        .sort()\r\n        .join(\"-\");\r\n      const cartItemId = `${modalState.menuItem.id}-${optionsId}`;\r\n      // ★ 型指定 (c: CartItem)\r\n      const existingItem = cart.find((c: CartItem) => c.id === cartItemId);\r\n      const currentQuantity = existingItem ? existingItem.quantity : 0;\r\n      updateCart(modalState.menuItem.id, currentQuantity + 1, options);\r\n      setModalState({ isOpen: false, menuItem: null });\r\n    }\r\n  };\r\n\r\n  // ★ async/await に修正\r\n  const handlePlaceOrder = async () => {\r\n    const newOrder = await placeOrder(userId);\r\n    if (newOrder) {\r\n      setShowOrderComplete(true);\r\n      setTimeout(() => setShowOrderComplete(false), 2500);\r\n    }\r\n  };\r\n\r\n  const filteredMenuItems = useMemo(() => {\r\n    let items = menuItems;\r\n    if (selectedCategory === \"おすすめ\") {\r\n      // ★ 型指定 (item: MenuItem)\r\n      items = items.filter((item: MenuItem) => item.isRecommended);\r\n    } else if (selectedCategory !== \"TOP\") {\r\n      // ★ 型指定 (item: MenuItem)\r\n      items = items.filter(\r\n        (item: MenuItem) => item.category === selectedCategory\r\n      );\r\n    }\r\n\r\n    if (searchQuery) {\r\n      // ★ 型指定 (item: MenuItem)\r\n      items = items.filter((item: MenuItem) =>\r\n        item.name.toLowerCase().includes(searchQuery.toLowerCase())\r\n      );\r\n    }\r\n    return items;\r\n  }, [menuItems, selectedCategory, searchQuery]);\r\n\r\n  const renderMainContent = () => {\r\n    if (activeTab === \"ORDER\" || activeTab === \"TOP\") {\r\n      return (\r\n        <>\r\n                   {\" \"}\r\n          <CategoryNav\r\n            categories={CATEGORIES}\r\n            selectedCategory={selectedCategory}\r\n            onSelectCategory={setSelectedCategory}\r\n          />\r\n                   {\" \"}\r\n          <MenuContent\r\n            menuItems={filteredMenuItems}\r\n            cart={cart}\r\n            onUpdateCart={updateCart}\r\n            onItemSelect={handleItemSelect}\r\n          />\r\n                   {\" \"}\r\n          <CartSidebar\r\n            cart={cart}\r\n            totalAmount={cartTotalAmount}\r\n            onUpdateCart={updateCart}\r\n            onPlaceOrder={handlePlaceOrder}\r\n            onGoToPayment={onGoToPayment}\r\n            pendingOrderTotalAmount={pendingOrderTotalAmount}\r\n          />\r\n                 {\" \"}\r\n        </>\r\n      );\r\n    } else if (activeTab === \"HISTORY\") {\r\n      return (\r\n        <OrderHistoryPane\r\n          pendingOrders={pendingOrders}\r\n          orderHistoryTotalAmount={pendingOrderTotalAmount}\r\n          onGoToPaymentView={onGoToPayment}\r\n          onCallStaff={() => alert(\"スタッフを呼び出しました。\")}\r\n        />\r\n      );\r\n    }\r\n    return null;\r\n  };\r\n\r\n  return (\r\n    <div className=\"order-screen-layout\">\r\n      {/* ★ テスト用の <h1> は削除 */}\r\n           {\" \"}\r\n      <OrderHeader\r\n        userId={userId}\r\n        searchQuery={searchQuery}\r\n        onSearchChange={setSearchQuery}\r\n        onCallStaff={() => alert(\"スタッフを呼び出しました。\")}\r\n      />\r\n           {\" \"}\r\n      <div\r\n        className={`order-main-area ${\r\n          activeTab === \"HISTORY\" ? \"history-layout\" : \"\"\r\n        }`}\r\n      >\r\n                {renderMainContent()}     {\" \"}\r\n      </div>\r\n           {\" \"}\r\n      <BottomNav\r\n        activeTab={activeTab}\r\n        onNavigate={onNavigate}\r\n        // ★ 型指定 (sum: number, item: CartItem)\r\n        cartItemCount={cart.reduce(\r\n          (sum: number, item: CartItem) => sum + item.quantity,\r\n          0\r\n        )}\r\n      />\r\n           {\" \"}\r\n      {modalState.isOpen && modalState.menuItem && (\r\n        <OptionModal\r\n          menuItem={modalState.menuItem}\r\n          onClose={() => setModalState({ isOpen: false, menuItem: null })}\r\n          onAddToCart={handleAddToCartFromModal}\r\n        />\r\n      )}\r\n         {\" \"}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OrderScreen;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}