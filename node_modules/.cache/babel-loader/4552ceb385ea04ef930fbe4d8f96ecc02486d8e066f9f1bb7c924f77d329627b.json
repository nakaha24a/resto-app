{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\arsuser\\\\Documents\\\\24A18\\\\\\u5352\\u696D\\u7814\\u7A76\\\\main\\\\resto-app\\\\src\\\\App.tsx\",\n  _s = $RefreshSig$();\n// src/App.tsx (TitleScreenを完全に削除した最終版)\n\nimport React, { useState } from \"react\";\nimport useCartStore from \"./store/cartStore\";\n\n// コンポーネントのインポート\n// ★ TitleScreen の import を削除\nimport OrderScreen from \"./components/OrderScreen\";\nimport SplitBillScreen from \"./components/SplitBillScreen\";\nimport ThanksScreen from \"./components/ThanksScreen\";\nimport \"./components/styles.css\";\n\n// ★ \"TITLE\" を AppScreen から削除\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TABLE_ID = \"T-05\";\nconst App = () => {\n  _s();\n  // ★ 初期値を \"ORDER\" に設定 (これは完了していますね)\n  const [currentScreen, setCurrentScreen] = useState(\"ORDER\");\n  const [tableNumber] = useState(TABLE_ID);\n  const [activeOrderTab, setActiveOrderTab] = useState(\"ORDER\");\n  const {\n    cart,\n    pendingOrderTotalAmount,\n    clearCart,\n    clearPendingOrders\n  } = useCartStore();\n  const [showOrderComplete, setShowOrderComplete] = useState(false); // ★ handleBackToTitle は不要になるか、\n\n  // 決済完了後に OrderScreen に戻るように変更（ここでは一旦残します）\n  const handleBackToTitle = () => {\n    clearCart();\n    clearPendingOrders();\n    // タイトルには戻れないので、ORDER に戻るか、アプリをリロードさせるなど\n    // ここでは便宜上 \"ORDER\" に戻るようにしておきます\n    setCurrentScreen(\"ORDER\");\n    setActiveOrderTab(\"ORDER\");\n  }; // 注文履歴画面に戻る処理\n\n  const handleBackToOrderHistory = () => {\n    setCurrentScreen(\"ORDER\");\n    setActiveOrderTab(\"HISTORY\");\n  };\n  const handleNavigateOrderTab = tab => setActiveOrderTab(tab);\n  const handleGoToSplitBill = () => {\n    if (pendingOrderTotalAmount === 0 && cart.length === 0) {\n      alert(\"ご注文履歴がないため、お会計に進めません。\");\n      return;\n    }\n    setCurrentScreen(\"SPLIT_BILL\");\n  };\n  const handleRequestPayment = message => {\n    console.log(`[STAFF CALL] ${tableNumber}: ${message}`);\n    clearCart();\n    clearPendingOrders();\n    setCurrentScreen(\"COMPLETE_PAYMENT\");\n  };\n  const renderScreen = () => {\n    switch (currentScreen) {\n      // ★ case \"TITLE\": を完全に削除\n\n      case \"ORDER\":\n        return /*#__PURE__*/_jsxDEV(OrderScreen, {\n          userId: tableNumber,\n          activeTab: activeOrderTab,\n          onNavigate: handleNavigateOrderTab,\n          onGoToPayment: handleGoToSplitBill,\n          setShowOrderComplete: setShowOrderComplete\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this);\n      case \"SPLIT_BILL\":\n        return /*#__PURE__*/_jsxDEV(SplitBillScreen, {\n          onCallStaff: handleRequestPayment,\n          onBack: handleBackToOrderHistory\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this);\n      case \"COMPLETE_PAYMENT\":\n        return /*#__PURE__*/_jsxDEV(ThanksScreen, {\n          onBackToTitle: handleBackToTitle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 16\n        }, this);\n      // ★ default: も \"ORDER\" に変更\n      default:\n        return /*#__PURE__*/_jsxDEV(OrderScreen, {\n          userId: tableNumber,\n          activeTab: activeOrderTab,\n          onNavigate: handleNavigateOrderTab,\n          onGoToPayment: handleGoToSplitBill,\n          setShowOrderComplete: setShowOrderComplete\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app-container\",\n    children: [\"\\xA0 \\xA0 \\xA0 \", renderScreen(), \"\\xA0 \\xA0 \\xA0\", \" \", showOrderComplete && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"confirmation-overlay\",\n      children: [\"\\xA0 \\xA0 \\xA0 \\xA0 \\xA0\", \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"confirmation-box\",\n        children: \"\\u2705 \\u3054\\u6CE8\\u6587\\u3092\\u627F\\u308A\\u307E\\u3057\\u305F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }, this), \"\\xA0 \\xA0 \\xA0 \\xA0\", \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }, this), \"\\xA0 \\xA0\", \" \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 99,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"5YRJiVmtEpIt3ubFo1pfHcx/6Zs=\", false, function () {\n  return [useCartStore];\n});\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useCartStore","OrderScreen","SplitBillScreen","ThanksScreen","jsxDEV","_jsxDEV","TABLE_ID","App","_s","currentScreen","setCurrentScreen","tableNumber","activeOrderTab","setActiveOrderTab","cart","pendingOrderTotalAmount","clearCart","clearPendingOrders","showOrderComplete","setShowOrderComplete","handleBackToTitle","handleBackToOrderHistory","handleNavigateOrderTab","tab","handleGoToSplitBill","length","alert","handleRequestPayment","message","console","log","renderScreen","userId","activeTab","onNavigate","onGoToPayment","fileName","_jsxFileName","lineNumber","columnNumber","onCallStaff","onBack","onBackToTitle","className","children","_c","$RefreshReg$"],"sources":["C:/Users/arsuser/Documents/24A18/卒業研究/main/resto-app/src/App.tsx"],"sourcesContent":["// src/App.tsx (TitleScreenを完全に削除した最終版)\r\n\r\nimport React, { useState } from \"react\";\r\nimport useCartStore from \"./store/cartStore\";\r\n\r\n// コンポーネントのインポート\r\n// ★ TitleScreen の import を削除\r\nimport OrderScreen, { NavTab } from \"./components/OrderScreen\";\r\nimport SplitBillScreen from \"./components/SplitBillScreen\";\r\nimport ThanksScreen from \"./components/ThanksScreen\";\r\n\r\nimport \"./components/styles.css\";\r\n\r\n// ★ \"TITLE\" を AppScreen から削除\r\ntype AppScreen = \"ORDER\" | \"SPLIT_BILL\" | \"COMPLETE_PAYMENT\";\r\n\r\nconst TABLE_ID = \"T-05\";\r\n\r\nconst App: React.FC = () => {\r\n  // ★ 初期値を \"ORDER\" に設定 (これは完了していますね)\r\n  const [currentScreen, setCurrentScreen] = useState<AppScreen>(\"ORDER\");\r\n  const [tableNumber] = useState<string>(TABLE_ID);\r\n  const [activeOrderTab, setActiveOrderTab] = useState<NavTab>(\"ORDER\");\r\n\r\n  const { cart, pendingOrderTotalAmount, clearCart, clearPendingOrders } =\r\n    useCartStore();\r\n  const [showOrderComplete, setShowOrderComplete] = useState(false); // ★ handleBackToTitle は不要になるか、\r\n\r\n  // 決済完了後に OrderScreen に戻るように変更（ここでは一旦残します）\r\n  const handleBackToTitle = () => {\r\n    clearCart();\r\n    clearPendingOrders();\r\n    // タイトルには戻れないので、ORDER に戻るか、アプリをリロードさせるなど\r\n    // ここでは便宜上 \"ORDER\" に戻るようにしておきます\r\n    setCurrentScreen(\"ORDER\");\r\n    setActiveOrderTab(\"ORDER\");\r\n  }; // 注文履歴画面に戻る処理\r\n\r\n  const handleBackToOrderHistory = () => {\r\n    setCurrentScreen(\"ORDER\");\r\n    setActiveOrderTab(\"HISTORY\");\r\n  };\r\n\r\n  const handleNavigateOrderTab = (tab: NavTab) => setActiveOrderTab(tab);\r\n\r\n  const handleGoToSplitBill = () => {\r\n    if (pendingOrderTotalAmount === 0 && cart.length === 0) {\r\n      alert(\"ご注文履歴がないため、お会計に進めません。\");\r\n      return;\r\n    }\r\n    setCurrentScreen(\"SPLIT_BILL\");\r\n  };\r\n\r\n  const handleRequestPayment = (message: string) => {\r\n    console.log(`[STAFF CALL] ${tableNumber}: ${message}`);\r\n    clearCart();\r\n    clearPendingOrders();\r\n    setCurrentScreen(\"COMPLETE_PAYMENT\");\r\n  };\r\n\r\n  const renderScreen = () => {\r\n    switch (currentScreen) {\r\n      // ★ case \"TITLE\": を完全に削除\r\n\r\n      case \"ORDER\":\r\n        return (\r\n          <OrderScreen\r\n            userId={tableNumber}\r\n            activeTab={activeOrderTab}\r\n            onNavigate={handleNavigateOrderTab}\r\n            onGoToPayment={handleGoToSplitBill}\r\n            setShowOrderComplete={setShowOrderComplete}\r\n          />\r\n        );\r\n      case \"SPLIT_BILL\":\r\n        return (\r\n          <SplitBillScreen\r\n            onCallStaff={handleRequestPayment}\r\n            onBack={handleBackToOrderHistory}\r\n          />\r\n        );\r\n      case \"COMPLETE_PAYMENT\":\r\n        return <ThanksScreen onBackToTitle={handleBackToTitle} />;\r\n      // ★ default: も \"ORDER\" に変更\r\n      default:\r\n        return (\r\n          <OrderScreen\r\n            userId={tableNumber}\r\n            activeTab={activeOrderTab}\r\n            onNavigate={handleNavigateOrderTab}\r\n            onGoToPayment={handleGoToSplitBill}\r\n            setShowOrderComplete={setShowOrderComplete}\r\n          />\r\n        );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"app-container\">\r\n            {renderScreen()}     {\" \"}\r\n      {showOrderComplete && (\r\n        <div className=\"confirmation-overlay\">\r\n                   {\" \"}\r\n          <div className=\"confirmation-box\">✅ ご注文を承りました</div>       {\" \"}\r\n        </div>\r\n      )}\r\n         {\" \"}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n"],"mappings":";;AAAA;;AAEA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,YAAY,MAAM,mBAAmB;;AAE5C;AACA;AACA,OAAOC,WAAW,MAAkB,0BAA0B;AAC9D,OAAOC,eAAe,MAAM,8BAA8B;AAC1D,OAAOC,YAAY,MAAM,2BAA2B;AAEpD,OAAO,yBAAyB;;AAEhC;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAGA,MAAMC,QAAQ,GAAG,MAAM;AAEvB,MAAMC,GAAa,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC1B;EACA,MAAM,CAACC,aAAa,EAAEC,gBAAgB,CAAC,GAAGX,QAAQ,CAAY,OAAO,CAAC;EACtE,MAAM,CAACY,WAAW,CAAC,GAAGZ,QAAQ,CAASO,QAAQ,CAAC;EAChD,MAAM,CAACM,cAAc,EAAEC,iBAAiB,CAAC,GAAGd,QAAQ,CAAS,OAAO,CAAC;EAErE,MAAM;IAAEe,IAAI;IAAEC,uBAAuB;IAAEC,SAAS;IAAEC;EAAmB,CAAC,GACpEjB,YAAY,CAAC,CAAC;EAChB,MAAM,CAACkB,iBAAiB,EAAEC,oBAAoB,CAAC,GAAGpB,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC;;EAEnE;EACA,MAAMqB,iBAAiB,GAAGA,CAAA,KAAM;IAC9BJ,SAAS,CAAC,CAAC;IACXC,kBAAkB,CAAC,CAAC;IACpB;IACA;IACAP,gBAAgB,CAAC,OAAO,CAAC;IACzBG,iBAAiB,CAAC,OAAO,CAAC;EAC5B,CAAC,CAAC,CAAC;;EAEH,MAAMQ,wBAAwB,GAAGA,CAAA,KAAM;IACrCX,gBAAgB,CAAC,OAAO,CAAC;IACzBG,iBAAiB,CAAC,SAAS,CAAC;EAC9B,CAAC;EAED,MAAMS,sBAAsB,GAAIC,GAAW,IAAKV,iBAAiB,CAACU,GAAG,CAAC;EAEtE,MAAMC,mBAAmB,GAAGA,CAAA,KAAM;IAChC,IAAIT,uBAAuB,KAAK,CAAC,IAAID,IAAI,CAACW,MAAM,KAAK,CAAC,EAAE;MACtDC,KAAK,CAAC,uBAAuB,CAAC;MAC9B;IACF;IACAhB,gBAAgB,CAAC,YAAY,CAAC;EAChC,CAAC;EAED,MAAMiB,oBAAoB,GAAIC,OAAe,IAAK;IAChDC,OAAO,CAACC,GAAG,CAAC,gBAAgBnB,WAAW,KAAKiB,OAAO,EAAE,CAAC;IACtDZ,SAAS,CAAC,CAAC;IACXC,kBAAkB,CAAC,CAAC;IACpBP,gBAAgB,CAAC,kBAAkB,CAAC;EACtC,CAAC;EAED,MAAMqB,YAAY,GAAGA,CAAA,KAAM;IACzB,QAAQtB,aAAa;MACnB;;MAEA,KAAK,OAAO;QACV,oBACEJ,OAAA,CAACJ,WAAW;UACV+B,MAAM,EAAErB,WAAY;UACpBsB,SAAS,EAAErB,cAAe;UAC1BsB,UAAU,EAAEZ,sBAAuB;UACnCa,aAAa,EAAEX,mBAAoB;UACnCL,oBAAoB,EAAEA;QAAqB;UAAAiB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC5C,CAAC;MAEN,KAAK,YAAY;QACf,oBACElC,OAAA,CAACH,eAAe;UACdsC,WAAW,EAAEb,oBAAqB;UAClCc,MAAM,EAAEpB;QAAyB;UAAAe,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAClC,CAAC;MAEN,KAAK,kBAAkB;QACrB,oBAAOlC,OAAA,CAACF,YAAY;UAACuC,aAAa,EAAEtB;QAAkB;UAAAgB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAC3D;MACA;QACE,oBACElC,OAAA,CAACJ,WAAW;UACV+B,MAAM,EAAErB,WAAY;UACpBsB,SAAS,EAAErB,cAAe;UAC1BsB,UAAU,EAAEZ,sBAAuB;UACnCa,aAAa,EAAEX,mBAAoB;UACnCL,oBAAoB,EAAEA;QAAqB;UAAAiB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC5C,CAAC;IAER;EACF,CAAC;EAED,oBACElC,OAAA;IAAKsC,SAAS,EAAC,eAAe;IAAAC,QAAA,GAAC,iBACvB,EAACb,YAAY,CAAC,CAAC,EAAC,gBAAK,EAAC,GAAG,EAC9Bb,iBAAiB,iBAChBb,OAAA;MAAKsC,SAAS,EAAC,sBAAsB;MAAAC,QAAA,GAAC,0BAC3B,EAAC,GAAG,eACbvC,OAAA;QAAKsC,SAAS,EAAC,kBAAkB;QAAAC,QAAA,EAAC;MAAW;QAAAR,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,uBAAO,EAAC,GAAG;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC3D,CACN,EAAC,WACC,EAAC,GAAG;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACJ,CAAC;AAEV,CAAC;AAAC/B,EAAA,CA3FID,GAAa;EAAA,QAOfP,YAAY;AAAA;AAAA6C,EAAA,GAPVtC,GAAa;AA6FnB,eAAeA,GAAG;AAAC,IAAAsC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}