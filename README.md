graph TD
    A[タイトル画面（起動画面）] --> B{注文開始前画面};

    subgraph 顧客側フロー
        B --> C[メンバー人数・名前入力];
        C --> D{メニュー画面};
        D -- 商品追加 --> E[注文確認・編集（カート）];
        E -- 編集/削除 --> D;
        E -- 確定 --> F[割り勘設定画面];
        F --> G[支払い方法選択画面];
        G --> H[決済完了画面];
    end

    subgraph データ連携
        D -- 注文データ送信 --> I(バックエンド);
        E -- 注文データ更新 --> I;
        F -- 割り勘設定送信 --> I;
        G -- 支払い情報送信 --> I;
        I -- データ保存/取得 --> J[データベース];
        J -- データ参照/更新 --> I;
    end

    subgraph 店舗側フロー
        K[店舗側管理画面（別端末）] --> L[注文管理画面];
        L -- 注文状況確認 --> I;
        L --> M[売上・分析画面];
        M -- データ取得 --> I;
    end

    I -- 注文情報受信 --> L;
    I -- 分析データ受信 --> M;
